[gd_scene load_steps=12 format=3 uid="uid://g7l7d0cxn440"]

[ext_resource type="Script" path="res://Scripts/EcosystemManager.gd" id="1_roijb"]
[ext_resource type="PackedScene" uid="uid://ds7ywmd4f72ug" path="res://Scenes/Predator.tscn" id="2_2rcuf"]
[ext_resource type="PackedScene" uid="uid://bgikwvc66amod" path="res://Scenes/Prey.tscn" id="3_qsvxw"]

[sub_resource type="NavigationMesh" id="NavigationMesh_iaftw"]
vertices = PackedVector3Array(-24.5, 0.5, -24.5, -24.5, 0.5, 24.5, 24.5, 0.5, 24.5, 24.5, 0.5, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
agent_radius = 0.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wq7xt"]
albedo_color = Color(0.343142, 0.169645, 0.0700111, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_mvuc2"]
material = SubResource("StandardMaterial3D_wq7xt")
top_radius = 0.1
bottom_radius = 0.15

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d218b"]
albedo_color = Color(0.373415, 0.51864, 0.305, 1)

[sub_resource type="SphereMesh" id="SphereMesh_lwkpo"]
material = SubResource("StandardMaterial3D_d218b")
radius = 0.6

[sub_resource type="BoxShape3D" id="BoxShape3D_op2vt"]
size = Vector3(50, 0.5, 50)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k24k5"]
albedo_color = Color(0.295848, 0.511305, 0.359491, 1)

[sub_resource type="BoxMesh" id="BoxMesh_2rotn"]
material = SubResource("StandardMaterial3D_k24k5")
size = Vector3(50, 0.5, 50)

[node name="EcosystemManager" type="NavigationRegion3D"]
navigation_mesh = SubResource("NavigationMesh_iaftw")
script = ExtResource("1_roijb")
predator_num = 35
prey_num = 50
tree_num = 350
predator_scene = ExtResource("2_2rcuf")
prey_scene = ExtResource("3_qsvxw")
tree_mesh = SubResource("CylinderMesh_mvuc2")
leaves_mesh = SubResource("SphereMesh_lwkpo")

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)

[node name="CollisionShape" type="CollisionShape3D" parent="Ground"]
shape = SubResource("BoxShape3D_op2vt")

[node name="MeshInstance" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("BoxMesh_2rotn")
